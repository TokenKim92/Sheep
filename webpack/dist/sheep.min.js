/*! For license information please see sheep.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sheep=e():t.Sheep=e()}(self,(()=>(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),p:"./imgs/"},e={};t.d(e,{default:()=>d});class s{#t;#e;#s;#i;#a;#h;#r=[];constructor(t,e,s){this.#t=t,this.#e=e,this.#s=s}resize(t,e){this.#i=t,this.#a=e,this.#r=[],this.#h=Math.ceil(this.#i/(this.#s-2));for(let t=0;t<this.#s;t++)this.#r.push({x:t*this.#h,y:this.#o()})}draw(t){t.fillStyle=this.#t,t.beginPath();let e=this.#r[0],s=e,i=[];e.x+=this.#e,e.x>-this.#h?this.#n():e.x>this.#i+this.#h&&this.#c(),t.moveTo(e.x,e.y);let a,h,r=e.x,o=e.y;for(let n=1;n<this.#r.length;n++)e=this.#r[n],e.x+=this.#e,a=(s.x+e.x)/2,h=(s.y+e.y)/2,t.quadraticCurveTo(s.x,s.y,a,h),i.push({x1:r,y1:o,x2:s.x,y2:s.y,x3:a,y3:h}),s=e,r=a,o=h;return t.lineTo(s.x,s.y),t.lineTo(this.#i,this.#a),t.lineTo(this.#r[0].x,this.#a),t.fill(),i}#o(){const t=this.#a/8,e=this.#a-t;return t+Math.random()*e}#n(){this.#r.unshift({x:-2*this.#h,y:this.#o()})}#c(){this.#r.splice(-1)}}class i{static IMAGE_WIDTH=360;static IMAGE_HEIGHT=300;static SHEEP_WIDTH=180;static SHEEP_HEIGHT=150;static SHEEP_HALF_WIDTH=i.SHEEP_WIDTH/2;static TOTAL_FRAME=8;static FPS=24;static FPS_TIME=1e3/i.FPS;#d;#l;#g=0;#u;#p;constructor(t,e){this.#d=t,this.#u={x:e+i.SHEEP_WIDTH,y:0},this.#p=2*Math.random()+1}draw(t,e,s){this.#l||(this.#l=e),e-this.#l>i.FPS_TIME&&(this.#l=e,this.#g=(this.#g+1)%i.TOTAL_FRAME),this.animate(t,s)}animate(t,e){this.#u.x-=this.#p;const s=this.#m(this.#u.x,e);this.#u.y=s.y,t.save(),t.translate(this.#u.x,this.#u.y),t.rotate(s.rotation),t.drawImage(this.#d,i.IMAGE_WIDTH*this.#g,0,i.IMAGE_WIDTH,i.IMAGE_HEIGHT,-i.SHEEP_HALF_WIDTH,20-i.SHEEP_HEIGHT,i.SHEEP_WIDTH,i.SHEEP_HEIGHT),t.restore()}#m(t,e){for(let s=1;s<e.length;s++)if(t>=e[s].x1&&t<=e[s].x3)return this.#E(t,e[s]);return{y:0,rotation:0}}#E(t,e){let s=this.#x(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3,0),i=s.x;for(let a=1;a<200;a++){const h=a/200;if(s=this.#x(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3,h),t>=i&&t<=s.x)return s;i=s.x}return s}#x(t,e,s,i,a,h,r){const o=this.#T(t,s,a,r),n=this.#T(e,i,h,r),c=-Math.atan2(o,n)+90*Math.PI/180;return{x:this.#P(t,s,a,r),y:this.#P(e,i,h,r),rotation:c}}#P(t,e,s,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*s}#T(t,e,s,i){return 2*(1-i)*(e-t)+2*(s-e)*i}get x(){return this.#u.x}}class a{static COUNT_TO_ADD_SHEEP=200;#d;#v=[];#H;#i;#a;constructor(t){this.#d=t,this.#H=0,this.addSheep()}resize(t,e){this.#i=t,this.#a=e}addSheep(){this.#v.push(new i(this.#d,this.#i))}draw(t,e,s){this.#H+=1,this.#H>a.COUNT_TO_ADD_SHEEP&&(this.#H=0,this.addSheep()),this.#v.forEach(((a,h)=>{a.x<-i.SHEEP_WIDTH?this.#v.splice(h,1):a.draw(t,e,s)}))}}class h{static FPS=30;static FPS_TIME=1e3/h.FPS;static PARTICLE_COUNT=60;static PARTICLE_INTERVAL=1/h.PARTICLE_COUNT;static COLOR="#ffb200";#l=0;#i;#a;#_;#u={x:0,y:0};#f=[];#S=[];constructor(){}resize(t,e){this.#i=t,this.#a=e,this.#_=this.#i/8,this.#u={x:this.#i-2*this.#_,y:this.#u.y=this.#_+100},this.#y()}draw(t,e){this.#l||(this.#l=e),e-this.#l>h.FPS_TIME&&(this.#l=e,this.#I()),t.save(),t.fillStyle=h.COLOR,t.beginPath();let s=this.#S[0];t.moveTo(s.x+this.#u.x,s.y+this.#u.y);for(let e=1;e<h.PARTICLE_COUNT;e++)s=this.#S[e],t.lineTo(s.x+this.#u.x,s.y+this.#u.y);t.fill(),t.restore()}#I(){for(let t=1;t<h.PARTICLE_COUNT;t++){let e=this.#f[t];this.#S[t]={x:e.x+this.#M(5),y:e.y+this.#M(5)}}}#M(t){return Math.random()*t}#y(){for(let t=0;t<h.PARTICLE_COUNT;t++){const e=this.#L(this.#_,h.PARTICLE_INTERVAL*t);this.#f[t]=e,this.#S[t]=e}}#L(t,e){const s=2*Math.PI*e;return{x:Math.cos(s)*t,y:Math.sin(s)*t}}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#w;#W;#i;#a;#O;constructor(t=!1){this.#w=document.createElement("canvas"),this.#W=this.#w.getContext("2d"),document.body.append(this.#w),this.#O=t,this.#O&&this.#w.classList.add("canvas-full")}resize(t=0,e=0){this.#i=0===t?document.body.clientWidth:t,this.#a=0===e?document.body.clientHeight:e,this.#w.width=this.#i,this.#w.height=this.#a}clearCanvas(){this.#W.clearRect(0,0,this.#i,this.#a)}clearRect(t,e,s,i){this.#W.clearRect(t,e,s,i)}addEventToCanvas(t,e){this.#w.addEventListener(t,e)}removeEventFromCanvas(t,e){this.#w.removeEventListener(t,e)}bringToStage(){document.body.append(this.#w)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#w)}setPosition(t,e){if(this.#O)throw new Error("Positioning is not possible in full screen mode.");this.#w.style.left=`${t}px`,this.#w.style.top=`${e}px`}get stageWidth(){return this.#i}get stageHeight(){return this.#a}get ctx(){return this.#W}get isMatchMedia(){return this.getSizeMode()===r.SMALL_MODE}get isHeighResolution(){return this.getSizeMode()===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:500},{mode:r.REGULAR_MODE,size:1e3},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],e=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[e].mode}}class o{#A;#C;#D;constructor(t,e,s){this.#A=t,this.#C=e,this.#D=s}get width(){return this.#A()}get size(){return this.#A()}get size(){return this.#A()}get font(){return`${this.#A} ${this.#C}px ${this.#D}`}}class n extends r{static FONT_WIDTH=600;static POS_Y=50;#R=0;#z;#t;constructor(t,e,s="rgb(255,255,255)"){super(),this.#R=t,this.#z=e,this.#t=s,this.#F()}resize(){super.resize(),this.#F()}#F(){const t=new o(n.FONT_WIDTH,this.#b,this.#z);this.ctx.font=t.font,this.ctx.fillStyle=this.#t,this.ctx.textBaseline="middle"}get#b(){switch(this.sizeMode){case r.SMALL_MODE:return 20;case r.REGULAR_MODE:return 30;case r.MEDIUM_MODE:return 40;case r.LARGE_MODE:return 50;default:throw new Error("This canvas size is not possible!")}}draw(){const t=this.ctx.measureText(this.#R);this.ctx.fillText(this.#R,(this.stageWidth-t.width)/2,n.POS_Y)}}const c=t.p+"sheep.png";class d extends r{#G;#N;#U;#Y;#k=!1;constructor(){super(!0),this.#Y=new n("Basic code by 'Interactive Developer'","Arial"),this.#N=new h,this.#G=[new s("#fd6bea",.2,12),new s("#ff59c2",.5,8),new s("#ff4674",1.4,6)];const t=new Image;t.src=c,t.onload=()=>{this.#U=new a(t),this.#k=!0,this.resize()}}resize(){super.resize(),this.#Y.resize(),this.#Y.draw(),this.#N.resize(this.stageWidth,this.stageHeight),this.#G.forEach((t=>t.resize(this.stageWidth,this.stageHeight))),this.#k&&this.#U.resize(this.stageWidth,this.stageHeight)}bringToStage(){super.bringToStage(),this.#Y.bringToStage()}removeFromStage(){super.removeFromStage(),this.#Y.removeFromStage()}animate(t){let e;this.clearCanvas(),this.#N.draw(this.ctx,t),this.#G.forEach((s=>{e=s.draw(this.ctx,t)})),this.#k&&this.#U.draw(this.ctx,t,e)}}return e.default})()));